
rules_version = '2';

// NOTE: All authentication requirements removed - open access for all visitors
service cloud.firestore {
  match /databases/{database}/documents {

    // Users collection - allow read for backward compatibility, deny writes
    match /users/{userId} {
      allow read: if true; // Open read access
      allow write: if false; // Deny writes since auth is removed
    }

    // Journal Entries - fully open access for all visitors
    match /journalEntries/{entryId} {
      // Anyone can create entries (anonymously)
      allow create: if true;
      // Anyone can read all entries (public and private)
      allow read: if true;
      // Anyone can update entries (consider limiting this in production)
      allow update: if true;
      // Anyone can delete entries (consider limiting this in production)
      allow delete: if true;
    }
    
    // Community Posts - fully open access for all visitors
    match /communityPosts/{postId} {
      // Anyone can create posts (anonymously)
      allow create: if true;
      // Anyone can read all posts
      allow read: if true;
      // Anyone can update posts (consider limiting this in production)
      allow update: if true;
      // Anyone can delete posts (consider limiting this in production)
      allow delete: if true;
    }
  }
}
